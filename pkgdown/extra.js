!function(){"use strict";function t(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function e(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.every((function(e){return"function"==typeof t[e]}))}var o={es2017:function(){return!r(Object,"entries","values")},es2018:function(){return"function"!=typeof Promise||!r(Promise.prototype,"finally")}};var s=["es2017","es2018"];function i(t){t.setAttribute("data-hypothesis-asset","")}function a(t,e){var n=t.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,i(n),t.head.appendChild(n)}function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.createElement("script");r.type="module",n&&(e+="#ts=".concat(Date.now())),r.src=e,r.async=!1,i(r),t.head.appendChild(r)}function u(t,e,n,r){var o=t.createElement("link");o.rel=e,o.href=r,o.type="application/annotator+".concat(n),i(o),t.head.appendChild(o)}function l(t,e,n){var r=t.createElement("link");r.rel="preload",r.as=e,r.crossOrigin="anonymous",r.href=n,i(r),t.head.appendChild(r)}function p(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.forceModuleReload;n.forEach((function(n){var r=e.assetRoot+"build/"+e.manifest[n];r.match(/\.css/)?a(t,r):c(t,r,o)}))}function f(t){return function(t){return t.filter((function(t){var e=o[t];if(!e)throw new Error('Unknown polyfill set "'.concat(t,'"'));return e()}))}(t).map((function(t){return"scripts/polyfills-".concat(t,".bundle.js")}))}function h(t){var e=t.match(/(https?):\/\/([^:/]+)/);return e?{protocol:e[1],hostname:e[2]}:null}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.currentScript;return e?h(e.src):null}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(-1===t.indexOf("{"))return t;var n=d(e);if(!n)throw new Error("Could not process URL template because script origin is unknown");return t=(t=t.replace("{current_host}",n.hostname)).replace("{current_scheme}",n.protocol)}if(function(){var t=[function(){return Promise.resolve()},function(){return new Map},function(){return new URL(document.location.href)},function(){return new Request("https://hypothes.is")},function(){return Element.prototype.prepend.name},function(){document.evaluate("/html/body",document,null,XPathResult.ANY_TYPE,null)}];try{return t.forEach((function(t){return t()})),!0}catch(t){return!1}}()){var m=function(e){for(var n={},r=e.querySelectorAll("script.js-hypothesis-config"),o=0;o<r.length;o++){var s=void 0;try{s=JSON.parse(r[o].textContent||"")}catch(t){console.warn("Could not parse settings from js-hypothesis-config tags",t),s={}}t(n,s)}return n}(document),v=y(m.assetRoot||"https://cdn.hypothes.is/hypothesis/1.898.0/"),b={"styles/annotator.css":"styles/annotator.css?c929d7","styles/katex.min.css":"styles/katex.min.css?35ad33","styles/pdfjs-overrides.css":"styles/pdfjs-overrides.css?dd8179","styles/sidebar.css":"styles/sidebar.css?ed079b","styles/ui-playground.css":"styles/ui-playground.css?7f563e","styles/annotator.css.map":"styles/annotator.css.map?835904","styles/katex.min.css.map":"styles/katex.min.css.map?64a54d","styles/pdfjs-overrides.css.map":"styles/pdfjs-overrides.css.map?bf5f6c","styles/sidebar.css.map":"styles/sidebar.css.map?75706e","styles/ui-playground.css.map":"styles/ui-playground.css.map?9e15e5","scripts/annotator.bundle.js":"scripts/annotator.bundle.js?0b2173","scripts/boot.bundle.js":"scripts/boot.bundle.js?c15f23","scripts/sidebar.bundle.js":"scripts/sidebar.bundle.js?af220d","scripts/ui-playground.bundle.js":"scripts/ui-playground.bundle.js?c91742","scripts/annotator.bundle.js.map":"scripts/annotator.bundle.js.map?213ff0","scripts/boot.bundle.js.map":"scripts/boot.bundle.js.map?a3c103","scripts/sidebar.bundle.js.map":"scripts/sidebar.bundle.js.map?5ce45a","scripts/ui-playground.bundle.js.map":"scripts/ui-playground.bundle.js.map?9a4055"};if(document.querySelector("hypothesis-app"))!function(t,n){l(t,"fetch",n.apiUrl),l(t,"fetch",n.apiUrl+"links");var r=f(s);p(t,n,[].concat(e(r),["scripts/sidebar.bundle.js","styles/katex.min.css","styles/sidebar.css"]))}(document,{assetRoot:v,manifest:b,apiUrl:m.apiUrl});else{var _=y(m.notebookAppUrl||"https://hypothes.is/notebook"),A=y(m.sidebarAppUrl||"https://hypothes.is/app.html");!function(t,n){if(!t.querySelector('link[type="application/annotator+html"]')){u(t,"sidebar","html",n.sidebarAppUrl),u(t,"notebook","html",n.notebookAppUrl),u(t,"hypothesis-client","javascript",n.assetRoot+"build/boot.js");var r=f(s);p(t,n,[].concat(e(r),["scripts/annotator.bundle.js","styles/annotator.css","styles/pdfjs-overrides.css"]),{forceModuleReload:!0})}}(document,{assetRoot:v,manifest:b,notebookAppUrl:_,sidebarAppUrl:A})}}else console.warn("The Hypothesis annotation tool is not supported in this browser. See https://web.hypothes.is/help/which-browsers-are-supported-by-hypothesis/.")}();
